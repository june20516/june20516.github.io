<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/2aaf0723e720e8b9-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/c750771597be38a6.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/83a2fbac9a4685e0.css" data-precedence="next"/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><body class="__className_0ec1f4"><header class="flex items-center px-8"><a href="/"><h1 class="text-3xl font-bold">Codeverse</h1></a></header><aside><ul><li class="even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white"><a class="block w-full h-full p-5 text-lg" href="/">Posts</a></li><li class="even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white"><a class="block w-full h-full p-5 text-lg" href="/about">About Me</a></li></ul></aside><main class="overflow-auto"><div class="px-4"><article><div class="text-4xl font-bold text-center p-10 mb-3 sticky top-0 text-green-800 bg-gray-200">Prism with Next.js</div><div class="markdown-body post"><h1>Using Prism with Next.js</h1>
<p><a href="https://prismjs.com/"><strong>Prism</strong></a> is a popular syntax highlighter commonly used with Markdown.
This example shows how to use Prism with <a href="https://nextjs.org/"><strong>Next.js</strong></a>. Use the theme dropdown
in the header to switch syntax highlighting themes.</p>
<p>Next.js uses <code>getStaticPaths</code>/<code>getStaticProps</code> to generate <a href="https://nextjs.org/docs/basic-features/data-fetching">static pages</a>. These functions are <em>not</em> bundled client-side, so you can <strong>write server-side code directly</strong>. For example, you can read Markdown files from the filesystem (<code>fs</code>) – including parsing front matter with <a href="https://github.com/jonschlinkert/gray-matter">gray-matter</a>. For example, let's assume you have a Markdown file located at <code>docs/my-post.js</code>.</p>
<p>We can retrieve that file's contents using <code>getDocBySlug('my-post')</code>.</p>
<pre><code>// lib/docs.js

import fs from 'fs';
import { join } from 'path';
import matter from 'gray-matter';

export function getDocBySlug(slug) {
  const realSlug = slug.replace(/\.md$/, '');
  const docsDirectory = join(process.cwd(), 'docs');
  const fullPath = join(docsDirectory, `${realSlug}.md`);
  const fileContents = fs.readFileSync(fullPath, 'utf8');
  const { data, content } = matter(fileContents);

  return { slug: realSlug, meta: data, content };
}
</code></pre>
<p>Then, we can <strong>transform</strong> the raw Markdown into HTML using <a href="https://github.com/remarkjs/remark">remark</a> plugins.</p>
<pre><code>// lib/markdown.js

import remark from 'remark';
import html from 'remark-html';
import prism from 'remark-prism';

export default async function markdownToHtml(markdown) {
  const result = await remark().use(html).use(prism).process(markdown);
  return result.toString();
}
</code></pre>
<p>Passing the <code>content</code> returned by <code>getDocBySlug('my-post')</code> into <code>markdownToHtml(content)</code>
would convert a Markdown file like this:</p>
<pre><code>---
title: 'My First Post'
description: 'My very first blog post'
---

# My First Post

I **love** using [Next.js](https://nextjs.org/)

```js
const doc = getDocBySlug(params.slug);
```
</code></pre>
<p>into this HTML, which includes the proper elements and class names.</p>
<pre><code>&#x3C;h1>My First Post&#x3C;/h1>
&#x3C;p>I &#x3C;strong>love&#x3C;/strong> using &#x3C;a href="https://nextjs.org/">Next.js&#x3C;/a>&#x3C;/p>
&#x3C;div class="remark-highlight">
  &#x3C;pre class="language-js">
    &#x3C;code>
      &#x3C;span class="token keyword">const&#x3C;/span> doc &#x3C;span class="token operator">=&#x3C;/span> &#x3C;span class="token function">getDocBySlug&#x3C;/span>&#x3C;span class="token punctuation">(&#x3C;/span>params&#x3C;span class="token punctuation">.&#x3C;/span>&#x3C;span class="token property-access">slug&#x3C;/span>&#x3C;span class="token punctuation">)&#x3C;/span>&#x3C;span class="token punctuation">;&#x3C;/span>
    &#x3C;/code>
  &#x3C;/pre>
&#x3C;/div>
</code></pre>
<h2>Deploy Your Own</h2>
<p>View the <a href="https://github.com/leerob/nextjs-prism-markdown"><strong>source code</strong></a> and deploy your own. You can add new Markdown files to <code>docs/</code> and see them live instantly!</p>
<p><a href="https://vercel.com/import/git?c=1&#x26;s=https://github.com/leerob/nextjs-prism-markdown"><img src="https://vercel.com/button" alt="Deploy with Vercel"></a></p>
</div></article></div></main><script src="/_next/static/chunks/webpack-90d2e941877c0bba.js" async=""></script><script src="/_next/static/chunks/2443530c-d4a6bd7fc7f21e3c.js" async=""></script><script src="/_next/static/chunks/488-4b4f25e9948f085c.js" async=""></script><script src="/_next/static/chunks/main-app-2456614f37f5f8df.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/2aaf0723e720e8b9-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/c750771597be38a6.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:HL[\"/_next/static/css/83a2fbac9a4685e0.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"5:I{\"id\":\"8827\",\"chunks\":[\"272:static/chunks/webpack-90d2e941877c0bba.js\",\"667:static/chunks/2443530c-d4a6bd7fc7f21e3c.js\",\"488:static/chunks/488-4b4f25e9948f085c.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"9126\",\"chunks\":[\"272:static/chunks/webpack-90d2e941877c0bba.js\",\"667:static/chunks/2443530c-d4a6bd7fc7f21e3c.js\",\"488:static/chunks/488-4b4f25e9948f085c.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":\"8920\",\"chunks\":[\"920:static/chunks/920-49084f8d55a30ad2.js\",\"185:static/chunks/app/layout-038a8f214fcbb0a3.js\"],\"nam"])</script><script>self.__next_f.push([1,"e\":\"\",\"async\":false}\na:I{\"id\":\"4463\",\"chunks\":[\"272:static/chunks/webpack-90d2e941877c0bba.js\",\"667:static/chunks/2443530c-d4a6bd7fc7f21e3c.js\",\"488:static/chunks/488-4b4f25e9948f085c.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":\"1010\",\"chunks\":[\"272:static/chunks/webpack-90d2e941877c0bba.js\",\"667:static/chunks/2443530c-d4a6bd7fc7f21e3c.js\",\"488:static/chunks/488-4b4f25e9948f085c.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c750771597be38a6.css\",\"precedence\":\"next\"}]],[\"$\",\"$L5\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/next-static-page-with-prism\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"next-static-page-with-prism\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"next-static-page-with-prism\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L6\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$7\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_0ec1f4\",\"children\":[[\"$\",\"header\",null,{\"className\":\"flex items-center px-8\",\"children\":[\"$\",\"$L8\",null,{\"href\":\"/\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold\",\"children\":\"Codeverse\"}]}]}],[\"$\",\"aside\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"block w-full h-full p-5 text-lg\",\"href\":\"/\",\"children\":\"Posts\"}]}],[\"$\",\"li\",\"1\",{\"className\":\"even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"block w-full h-full p-5 text-lg\",\"href\":\"/about\",\"children\":\"About Me\"}]}]]}]}],[\"$\",\"main\",null,{\"className\":\"overflow-auto\",\"children\":[\"$L9\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}]]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_0ec1f4\",\"children\":[[\"$\",\"header\",null,{\"className\":\"flex items-center px-8\",\"children\":[\"$\",\"$L8\",null,{\"href\":\"/\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold\",\"children\":\"Codeverse\"}]}]}],[\"$\",\"aside\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"block w-full h-full p-5 text-lg\",\"href\":\"/\",\"children\":\"Posts\"}]}],[\"$\",\"li\",\"1\",{\"className\":\"even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"block w-full h-full p-5 text-lg\",\"href\":\"/about\",\"children\":\"About Me\"}]}]]}]}],[\"$\",\"main\",null,{\"className\":\"overflow-auto\",\"children\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[[null,[\"$\",\"div\",null,{\"className\":\"px-4\",\"children\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"next-static-page-with-prism\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"next-static-page-with-prism\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/83a2fbac9a4685e0.css\",\"precedence\":\"next\"}]]}]}]],null],\"segment\":[\"slug\",\"next-static-page-with-prism\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:[null,[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"text-4xl font-bold text-center p-10 mb-3 sticky top-0 text-green-800 bg-gray-200\",\"children\":\"Prism with Next.js\"}],[\"$\",\"div\",null,{\"className\":\"markdown-body post\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003ch1\u003eUsing Prism with Next.js\u003c/h1\u003e\\n\u003cp\u003e\u003ca href=\\\"https://prismjs.com/\\\"\u003e\u003cstrong\u003ePrism\u003c/strong\u003e\u003c/a\u003e is a popular syntax highlighter commonly used with Markdown.\\nThis example shows how to use Prism with \u003ca href=\\\"https://nextjs.org/\\\"\u003e\u003cstrong\u003eNext.js\u003c/strong\u003e\u003c/a\u003e. Use the theme dropdown\\nin the header to switch syntax highlighting themes.\u003c/p\u003e\\n\u003cp\u003eNext.js uses \u003ccode\u003egetStaticPaths\u003c/code\u003e/\u003ccode\u003egetStaticProps\u003c/code\u003e to generate \u003ca href=\\\"https://nextjs.org/docs/basic-features/data-fetching\\\"\u003estatic pages\u003c/a\u003e. These functions are \u003cem\u003enot\u003c/em\u003e bundled client-side, so you can \u003cstrong\u003ewrite server-side code directly\u003c/strong\u003e. For example, you can read Markdown files from the filesystem (\u003ccode\u003efs\u003c/code\u003e) – including parsing front matter with \u003ca href=\\\"https://github.com/jonschlinkert/gray-matter\\\"\u003egray-matter\u003c/a\u003e. For example, let's assume you have a Markdown file located at \u003ccode\u003edocs/my-post.js\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eWe can retrieve that file's contents using \u003ccode\u003egetDocBySlug('my-post')\u003c/code\u003e.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e// lib/docs.js\\n\\nimport fs from 'fs';\\nimport { join } from 'path';\\nimport matter from 'gray-matter';\\n\\nexport function getDocBySlug(slug) {\\n  const realSlug = slug.replace(/\\\\.md$/, '');\\n  const docsDirectory = join(process.cwd(), 'docs');\\n  const fullPath = join(docsDirectory, `${realSlug}.md`);\\n  const fileContents = fs.readFileSync(fullPath, 'utf8');\\n  const { data, content } = matter(fileContents);\\n\\n  return { slug: realSlug, meta: data, content };\\n}\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThen, we can \u003cstrong\u003etransform\u003c/strong\u003e the raw Markdown into HTML using \u003ca href=\\\"https://github.com/remarkjs/remark\\\"\u003eremark\u003c/a\u003e plugins.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e// lib/markdown.js\\n\\nimport remark from 'remark';\\nimport html from 'remark-html';\\nimport prism from 'remark-prism';\\n\\nexport default async function markdownToHtml(markdown) {\\n  const result = await remark().use(html).use(prism).process(markdown);\\n  return result.toString();\\n}\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003ePassing the \u003ccode\u003econtent\u003c/code\u003e returned by \u003ccode\u003egetDocBySlug('my-post')\u003c/code\u003e into \u003ccode\u003emarkdownToHtml(content)\u003c/code\u003e\\nwould convert a Markdown file like this:\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e---\\ntitle: 'My First Post'\\ndescription: 'My very first blog post'\\n---\\n\\n# My First Post\\n\\nI **love** using [Next.js](https://nextjs.org/)\\n\\n```js\\nconst doc = getDocBySlug(params.slug);\\n```\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003einto this HTML, which includes the proper elements and class names.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e\u0026#x3C;h1\u003eMy First Post\u0026#x3C;/h1\u003e\\n\u0026#x3C;p\u003eI \u0026#x3C;strong\u003elove\u0026#x3C;/strong\u003e using \u0026#x3C;a href=\\\"https://nextjs.org/\\\"\u003eNext.js\u0026#x3C;/a\u003e\u0026#x3C;/p\u003e\\n\u0026#x3C;div class=\\\"remark-highlight\\\"\u003e\\n  \u0026#x3C;pre class=\\\"language-js\\\"\u003e\\n    \u0026#x3C;code\u003e\\n      \u0026#x3C;span class=\\\"token keyword\\\"\u003econst\u0026#x3C;/span\u003e doc \u0026#x3C;span class=\\\"token operator\\\"\u003e=\u0026#x3C;/span\u003e \u0026#x3C;span class=\\\"token function\\\"\u003egetDocBySlug\u0026#x3C;/span\u003e\u0026#x3C;span class=\\\"token punctuation\\\"\u003e(\u0026#x3C;/span\u003eparams\u0026#x3C;span class=\\\"token punctuation\\\"\u003e.\u0026#x3C;/span\u003e\u0026#x3C;span class=\\\"token property-access\\\"\u003eslug\u0026#x3C;/span\u003e\u0026#x3C;span class=\\\"token punctuation\\\"\u003e)\u0026#x3C;/span\u003e\u0026#x3C;span class=\\\"token punctuation\\\"\u003e;\u0026#x3C;/span\u003e\\n    \u0026#x3C;/code\u003e\\n  \u0026#x3C;/pre\u003e\\n\u0026#x3C;/div\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch2\u003eDeploy Your Own\u003c/h2\u003e\\n\u003cp\u003eView the \u003ca href=\\\"https://github.com/leerob/nextjs-prism-markdown\\\"\u003e\u003cstrong\u003esource code\u003c/strong\u003e\u003c/a\u003e and deploy your own. You can add new Markdown files to \u003ccode\u003edocs/\u003c/code\u003e and see them live instantly!\u003c/p\u003e\\n\u003cp\u003e\u003ca href=\\\"https://vercel.com/import/git?c=1\u0026#x26;s=https://github.com/leerob/nextjs-prism-markdown\\\"\u003e\u003cimg src=\\\"https://vercel.com/button\\\" alt=\\\"Deploy with Vercel\\\"\u003e\u003c/a\u003e\u003c/p\u003e\\n\"}}]]}]]\n"])</script><script>self.__next_f.push([1,"9:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],null,null,null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,null]\n"])</script><script>self.__next_f.push([1,"6:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"Create Next App\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"Generated by create next app\"}],null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script></body></html>