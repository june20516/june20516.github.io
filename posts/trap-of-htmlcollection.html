<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="stylesheet" href="/_next/static/css/5624dea08047460b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/cb783fed5b90787f.css" data-precedence="next"/><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-Q587R5F0YL"/><title>HTMLCollection의 함정 - Bran&#x27;s codeverse</title><meta name="description" content="클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="HTMLCollection의 함정 - Bran&#x27;s codeverse"/><meta property="og:description" content="클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제"/><meta property="og:site_name" content="Bran&#x27;s codeverse"/><meta property="og:image" content="http://localhost:3000/assets/images/posts/trap-of-htmlcollection.jpeg"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@codeverse"/><meta name="twitter:title" content="HTMLCollection의 함정 - Bran&#x27;s codeverse"/><meta name="twitter:description" content="클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제"/><meta name="twitter:image" content="http://localhost:3000/assets/images/posts/trap-of-htmlcollection.jpeg"/><link rel="icon" href="/icon.svg?43070ac23468c58b" type="image/svg+xml" sizes="32x32"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><style data-emotion="css-global 1mv6lxk">:root{--mui-palette-primary-main:#171717;--mui-palette-secondary-main:#737373;--mui-palette-info-main:#3b82f6;--mui-palette-error-main:#ef4444;--mui-palette-background-default:#ffffff;--mui-palette-action-active:#171717;--mui-palette-action-disabled:#d4d4d4;--mui-palette-text-primary:#171717;--mui-palette-text-secondary:#737373;--mui-palette-text-disabled:#d4d4d4;--mui-palette-divider:#e5e5e5;--mui-typography-fontFamily:Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;}</style><style data-emotion="css k186h9">.css-k186h9{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#ffffff;}</style><body class="MuiBox-root css-k186h9"><style data-emotion="css 1vseziz">.css-1vseziz{position:-webkit-sticky;position:sticky;top:0;z-index:1000;border-bottom:1px solid #e5e5e5;background-color:#ffffff;overflow:hidden;}.css-1vseziz::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:url(/assets/images/default-thumbnail.jpg);-webkit-background-size:120%;background-size:120%;-webkit-background-position:center;background-position:center;opacity:1;z-index:0;-webkit-animation:headerBackgroundFloat 300s ease-in-out infinite;animation:headerBackgroundFloat 300s ease-in-out infinite;}@-webkit-keyframes headerBackgroundFloat{0%,100%{-webkit-background-position:center top;background-position:center top;}50%{-webkit-background-position:center bottom;background-position:center bottom;}}@keyframes headerBackgroundFloat{0%,100%{-webkit-background-position:center top;background-position:center top;}50%{-webkit-background-position:center bottom;background-position:center bottom;}}.css-1vseziz::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:#ffffff;opacity:0.65;z-index:1;}</style><header class="MuiBox-root css-1vseziz"><style data-emotion="css cam08f">.css-cam08f{position:relative;z-index:2;max-width:1024px;margin-left:auto;margin-right:auto;padding-top:16px;padding-bottom:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;gap:32px;}@media (min-width:0px){.css-cam08f{padding-left:24px;padding-right:24px;}}@media (min-width:640px){.css-cam08f{padding-left:32px;padding-right:32px;}}@media (min-width:768px){.css-cam08f{padding-left:48px;padding-right:48px;}}</style><div class="MuiBox-root css-cam08f"><a style="text-decoration:none" href="/"><style data-emotion="css 120nera">.css-120nera{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;}</style><div class="MuiBox-root css-120nera"><svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="6" fill="url(#gradient)"></rect><text x="16" y="22" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="700" fill="white" text-anchor="middle" letter-spacing="-0.02em">B</text><defs><linearGradient id="gradient" x1="0" y1="0" x2="32" y2="32" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#667eea"></stop><stop offset="100%" stop-color="#764ba2"></stop></linearGradient></defs></svg><style data-emotion="css 1bye4no">.css-1bye4no{margin:0;font-size:1.125rem;font-weight:600;line-height:1.5;font-family:Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;color:#171717;font-weight:600;letter-spacing:-0.01em;-webkit-transition:color 0.2s ease;transition:color 0.2s ease;}.css-1bye4no:hover{color:#737373;}</style><h6 class="MuiTypography-root MuiTypography-h6 css-1bye4no">Codeverse</h6></div></a><style data-emotion="css 1xiah1o">.css-1xiah1o{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (min-width:0px){.css-1xiah1o{gap:16px;}}@media (min-width:640px){.css-1xiah1o{gap:24px;}}</style><nav class="MuiBox-root css-1xiah1o"><a style="text-decoration:none" href="/posts"><style data-emotion="css 4nm0tw">.css-4nm0tw{margin:0;font-size:0.875rem;line-height:1.6;font-weight:400;font-family:Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;color:#171717;font-weight:500;font-size:0.875rem;-webkit-transition:color 0.2s ease;transition:color 0.2s ease;}.css-4nm0tw:hover{color:#171717;}</style><p class="MuiTypography-root MuiTypography-body2 css-4nm0tw">Posts</p></a><a style="text-decoration:none" href="/tags"><style data-emotion="css 1t5x1u">.css-1t5x1u{margin:0;font-size:0.875rem;line-height:1.6;font-weight:400;font-family:Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;color:#737373;font-weight:400;font-size:0.875rem;-webkit-transition:color 0.2s ease;transition:color 0.2s ease;}.css-1t5x1u:hover{color:#171717;}</style><p class="MuiTypography-root MuiTypography-body2 css-1t5x1u">Tags</p></a><a style="text-decoration:none" href="/lab"><p class="MuiTypography-root MuiTypography-body2 css-1t5x1u">Lab</p></a><a style="text-decoration:none" href="/about"><p class="MuiTypography-root MuiTypography-body2 css-1t5x1u">About</p></a></nav></div></header><style data-emotion="css 6rhssw">.css-6rhssw{-webkit-flex:1;-ms-flex:1;flex:1;width:100%;max-width:1024px;margin-left:auto;margin-right:auto;padding-top:48px;padding-bottom:48px;}@media (min-width:0px){.css-6rhssw{padding-left:24px;padding-right:24px;}}@media (min-width:640px){.css-6rhssw{padding-left:32px;padding-right:32px;}}@media (min-width:768px){.css-6rhssw{padding-left:48px;padding-right:48px;}}</style><main class="MuiBox-root css-6rhssw"><style data-emotion="css 6jdg17">.css-6jdg17{width:100%;max-width:720px;margin-left:auto;margin-right:auto;}</style><div class="MuiBox-root css-6jdg17"><article class="MuiBox-root css-0"><style data-emotion="css esqn0w">.css-esqn0w{width:100%;border-radius:24px;overflow:hidden;background-color:#f5f5f5;}@media (min-width:0px){.css-esqn0w{height:200px;margin-bottom:32px;}}@media (min-width:640px){.css-esqn0w{height:300px;margin-bottom:48px;}}@media (min-width:768px){.css-esqn0w{height:400px;}}</style><div class="MuiBox-root css-esqn0w"><img src="/assets/images/posts/trap-of-htmlcollection.jpeg" alt="HTMLCollection의 함정" style="width:100%;height:100%;object-fit:cover"/></div><style data-emotion="css 1rtc9dx">.css-1rtc9dx{border-bottom:1px solid #e5e5e5;}@media (min-width:0px){.css-1rtc9dx{margin-bottom:48px;padding-bottom:24px;}}@media (min-width:640px){.css-1rtc9dx{margin-bottom:64px;padding-bottom:32px;}}</style><header class="MuiBox-root css-1rtc9dx"><style data-emotion="css yl1ub">.css-yl1ub{margin:0;font-size:3rem;font-weight:600;line-height:1.2;letter-spacing:-0.02em;font-family:Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;color:#171717;margin-bottom:24px;}@media (min-width:0px){.css-yl1ub{font-size:1.875rem;line-height:1.3;}}@media (min-width:640px){.css-yl1ub{font-size:2.25rem;line-height:1.2;}}@media (min-width:768px){.css-yl1ub{font-size:2.5rem;}}</style><h1 class="MuiTypography-root MuiTypography-h1 css-yl1ub">HTMLCollection의 함정</h1><style data-emotion="css hp6vas">.css-hp6vas{margin:0;font-size:1rem;line-height:1.7;font-weight:400;font-family:Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;color:#737373;margin-bottom:24px;}@media (min-width:0px){.css-hp6vas{line-height:1.7;font-size:0.9375rem;}}@media (min-width:640px){.css-hp6vas{line-height:1.8;font-size:1rem;}}</style><p class="MuiTypography-root MuiTypography-body1 css-hp6vas">클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제</p><style data-emotion="css vih9y">.css-vih9y{margin:0;font-size:0.8125rem;line-height:1.5;font-weight:400;color:#a3a3a3;}</style><span class="MuiTypography-root MuiTypography-micro css-vih9y">2021/09/07</span></header><div class="markdown-body post MuiBox-root css-0"><pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper lunchtime-template<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary name-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>OOO<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>위와 같은 형태의 HTML 템플릿에 데이터를 넣는 작업이었다. 스크립트를 작성하면서, 먼저 알맞은 태그 요소를 찾아 데이터를 넣고, 템플릿으로 활용했던 클래스 이름들을 제거하려고 했다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">bran</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'철판 볶음밥을 먹었다'</span><span class="token punctuation">,</span> <span class="token string">'커피를 주문했다'</span><span class="token punctuation">,</span> <span class="token string">'쿠키도 구매했다'</span><span class="token punctuation">,</span> <span class="token string">'양치를 했다'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> lunchTimeDiv <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lunchtime-template'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">lunchTimeDiv<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'lunchtime-template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> nameSlot <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.name-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">nameSlot<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> name<span class="token punctuation">;</span>
</span><span class="code-line">nameSlot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'name-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>여기까지는 별 문제 없었지만, 이후에 문제가 발생했다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> histories <span class="token operator">=</span> data<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> historySlots <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&#x3C;</span> historySlots<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  slot <span class="token operator">=</span> historySlots<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  slot<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> histories<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  slot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>스크립트로 처리된 결과는 기대와 달랐다.</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>bran<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>커피를 주문했다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>코드가 기대한 대로 작동하지 않아 어리둥절했다. 간단한 코드에서 문제가 발생하리라 예상하지 못했지만, 분명히 어디선가 잘못된 부분이 있었다.
고민 끝에, 루프 안에서 인덱스를 조절해야 했던 알고리즘 문제를 떠올리고 코드를 수정해 보았다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&#x3C;</span> histories<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  slot <span class="token operator">=</span> historySlots<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  slot<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> histories<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  slot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  idx <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>결과는 나왔지만, 뭔가 이상했다.</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>bran<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>포문에서 발생한 문제는 어느 정도 해결됐지만, 데이터를 인덱스와 같이 순환해야 하므로 복잡성만 더 커졌을 뿐, 이 방식은 적절하지 않았다.
근본적인 문제를 고민해보니, <code>historySlots</code>가 루프가 진행됨에 따라 변하고 있었다. 그래서 <code>historySlots</code>를 잡는 방식을 <code>getElementsByClassName</code>에서 <code>querySelectorAll</code>로 바꿔보기로 했다.</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper lunchtime-template<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary name-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>OOO<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">    <span class="token literal-property property">bran</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'철판 볶음밥을 먹었다'</span><span class="token punctuation">,</span> <span class="token string">'커피를 주문했다'</span><span class="token punctuation">,</span> <span class="token string">'쿠키도 구매했다'</span><span class="token punctuation">,</span> <span class="token string">'양치를 했다'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">let</span> lunchTimeDiv <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lunchtime-template'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  lunchTimeDiv<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'lunchtime-template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">let</span> nameSlot <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.name-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  nameSlot<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> name<span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  nameSlot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'name-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">const</span> histories <span class="token operator">=</span> data<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token comment">// 이곳을 변경</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">let</span> historySlots <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&#x3C;</span> historySlots<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">    slot <span class="token operator">=</span> historySlots<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">    slot<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> histories<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">    slot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>드디어 의도대로 동작했다.</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>bran<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>커피를 주문했다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>쿠키도 구매했다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>양치를 했다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span></code></pre>
<hr>
<p><code>getElementsByClassName</code>은 <code>HTMLCollection</code>을 반환하고, <code>querySelectorAll</code>은 <code>NodeList</code>를 반환한다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">let</span> historySlots1 <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> historySlots2 <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>historySlots1<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object HTMLCollection]'</span>
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>historySlots2<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  '[object NodeList]'</span>
</span></code></pre>
<p><a href="https://dev.to/theoluyi/queryselector-vs-getelementsbyclassname-nodelist-vs-htmlcollection-30gg" target="_blank" rel="noopener noreferer">HTMLCollection과 NodeList</a> 의 차이를 설명하는 좀 더 자세한 글을 첨부한다.</p>
<p>간단하게 말하자면, HTMLCollection은 항상 현재 상황을 반영한다. 즉, 클래스 이름을 기준으로 요소들이 담기는데, 내가 클래스 이름을 지우면서 해당 컬렉션에서 제외된 것이다. 포문이 제대로 작동하지 않은 이유는 바로 이 때문이었다.</p>
<p>더 나아가 HTMLCollection은 배열이 아닌 유사 배열이기 때문에 forEach 같은 배열 메서드를 사용할 수 없다. 하지만 객체 속성에 접근하듯이 .속성명 형식으로 접근이 가능하다. <sup><a href="https://devsoyoung.github.io/posts/js-htmlcollection-nodelist" target="_blank" rel="noopener noreferer">ref</a></sup></p>
<p>앞으로는 상황에 맞는 선택을 더 신중히 해야겠다.</p></div><style data-emotion="css w48v5m">.css-w48v5m{margin-top:48px;padding-top:32px;border-top:1px solid #e5e5e5;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:8px;}</style><div class="MuiBox-root css-w48v5m"><style data-emotion="css ahjzb8">.css-ahjzb8{margin:0;font-size:0.8125rem;line-height:1.5;font-weight:400;color:#a3a3a3;vertical-align:middle;}</style><span class="MuiTypography-root MuiTypography-micro css-ahjzb8">Tags</span><style data-emotion="css 30jlqd">.css-30jlqd{padding-left:16px;padding-right:16px;margin-right:8px;border-radius:8px;background-color:whitesmoke;}</style><code class="MuiBox-root css-30jlqd"><style data-emotion="css 1iihwok">.css-1iihwok{margin:0;font-size:1rem;line-height:1.7;font-weight:400;font-family:Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;color:#171717;}</style><span class="MuiTypography-root MuiTypography-body1 css-1iihwok">HTMLCollection</span></code><code class="MuiBox-root css-30jlqd"><span class="MuiTypography-root MuiTypography-body1 css-1iihwok">getElementsByClassName</span></code><code class="MuiBox-root css-30jlqd"><span class="MuiTypography-root MuiTypography-body1 css-1iihwok">nodeList</span></code><code class="MuiBox-root css-30jlqd"><span class="MuiTypography-root MuiTypography-body1 css-1iihwok">querySelectorAll()</span></code></div></article></div></main><!--$!--><template data-dgst="NEXT_DYNAMIC_NO_SSR_CODE"></template><!--/$--><script src="/_next/static/chunks/webpack-e626dd0d67257d17.js" async=""></script><script src="/_next/static/chunks/2443530c-0538301a504b83cf.js" async=""></script><script src="/_next/static/chunks/488-c0b34e96c35b33f7.js" async=""></script><script src="/_next/static/chunks/main-app-98d28d7655df5891.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/5624dea08047460b.css\",{\"as\":\"style\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/cb783fed5b90787f.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":\"8827\",\"chunks\":[\"272:static/chunks/webpack-e626dd0d67257d17.js\",\"667:static/chunks/2443530c-0538301a504b83cf.js\",\"488:static/chunks/488-c0b34e96c35b33f7.js\"],\"name\":\"\",\"async\":false}\n6:I{\"id\":\"9126\",\"chunks\":[\"272:static/chunks/webpack-e626dd0d67257d17.js\",\"667:static/chunks/2443530c-0538301a504b83cf.js\",\"488:static/chunks/488-c0b34e96c35b33f7.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"6886\",\"chunks\":[\"771:static/chunks/771-4a62562d40204820.js\",\"846:static/chunks/846-5374114718c3ba3f.js\",\"363:static/"])</script><script>self.__next_f.push([1,"chunks/363-097e6bb98da01208.js\",\"185:static/chunks/app/layout-c1a912ae26ccf199.js\"],\"name\":\"\",\"async\":false}\n9:I{\"id\":\"4463\",\"chunks\":[\"272:static/chunks/webpack-e626dd0d67257d17.js\",\"667:static/chunks/2443530c-0538301a504b83cf.js\",\"488:static/chunks/488-c0b34e96c35b33f7.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":\"1010\",\"chunks\":[\"272:static/chunks/webpack-e626dd0d67257d17.js\",\"667:static/chunks/2443530c-0538301a504b83cf.js\",\"488:static/chunks/488-c0b34e96c35b33f7.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5624dea08047460b.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/trap-of-htmlcollection\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"trap-of-htmlcollection\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"trap-of-htmlcollection\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L5\",null],\"globalErrorComponent\":\"$6\",\"notFound\":[\"$\",\"$L7\",null,{\"params\":{},\"children\":[\"$L8\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}],\"asNotFound\":false,\"children\":[[\"$\",\"$L7\",null,{\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"trap-of-htmlcollection\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"trap-of-htmlcollection\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/cb783fed5b90787f.css\",\"precedence\":\"next\"}]]}],null],\"segment\":[\"slug\",\"trap-of-htmlcollection\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}],\"params\":{}}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":\"4970\",\"chunks\":[\"771:static/chunks/771-4a62562d40204820.js\",\"755:static/chunks/app/drafts/[slug]/page-53d5077f0cc841db.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"$Lc\",null,{\"post\":{\"slug\":\"trap-of-htmlcollection\",\"meta\":{\"title\":\"HTMLCollection의 함정\",\"description\":\"클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제\",\"date\":\"2021/09/07\",\"tags\":[\"HTMLCollection\",\"getElementsByClassName\",\"nodeList\",\"querySelectorAll()\"],\"categories\":[\"dev\",\"web\"],\"thumbnail\":\"assets/images/posts/trap-of-htmlcollection.jpeg\"},\"content\":\"\\n```html\\n\u003cdiv class=\\\"wrapper lunchtime-template\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary name-slot\\\"\u003eOOO\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n```\\n\\n위와 같은 형태의 HTML 템플릿에 데이터를 넣는 작업이었다. 스크립트를 작성하면서, 먼저 알맞은 태그 요소를 찾아 데이터를 넣고, 템플릿으로 활용했던 클래스 이름들을 제거하려고 했다.\\n\\n```javascript\\nconst data = {\\n  bran: ['철판 볶음밥을 먹었다', '커피를 주문했다', '쿠키도 구매했다', '양치를 했다'],\\n};\\n\\nlet lunchTimeDiv = document.querySelector('.lunchtime-template').cloneNode(true);\\nlunchTimeDiv.classList.remove('lunchtime-template');\\n\\nlet name = Object.keys(data)[0];\\nlet nameSlot = lunchTimeDiv.querySelector('.name-slot');\\nnameSlot.innerHTML = name;\\nnameSlot.classList.remove('name-slot');\\n```\\n\\n여기까지는 별 문제 없었지만, 이후에 문제가 발생했다.\\n\\n```javascript\\nconst histories = data[name];\\nlet historySlots = lunchTimeDiv.getElementsByClassName('history-slot');\\nfor (let idx = 0; idx \u003c historySlots.length; idx++) {\\n  slot = historySlots[idx];\\n  slot.innerText = histories[idx];\\n  slot.classList.remove('history-slot');\\n}\\n```\\n\\n스크립트로 처리된 결과는 기대와 달랐다.\\n\\n```html\\n\u003cdiv class=\\\"wrapper\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary\\\"\u003ebran\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e커피를 주문했다\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n```\\n\\n코드가 기대한 대로 작동하지 않아 어리둥절했다. 간단한 코드에서 문제가 발생하리라 예상하지 못했지만, 분명히 어디선가 잘못된 부분이 있었다.\\n고민 끝에, 루프 안에서 인덱스를 조절해야 했던 알고리즘 문제를 떠올리고 코드를 수정해 보았다.\\n\\n```javascript\\nfor (let idx = 0; idx \u003c histories.length; idx++) {\\n  slot = historySlots[idx];\\n  slot.innerText = histories[idx];\\n  slot.classList.remove('history-slot');\\n  idx -= 1;\\n}\\n```\\n\\n결과는 나왔지만, 뭔가 이상했다.\\n\\n```html\\n\u003cdiv class=\\\"wrapper\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary\\\"\u003ebran\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n```\\n\\n포문에서 발생한 문제는 어느 정도 해결됐지만, 데이터를 인덱스와 같이 순환해야 하므로 복잡성만 더 커졌을 뿐, 이 방식은 적절하지 않았다.\\n근본적인 문제를 고민해보니, `historySlots`가 루프가 진행됨에 따라 변하고 있었다. 그래서 `historySlots`를 잡는 방식을 `getElementsByClassName`에서 `querySelectorAll`로 바꿔보기로 했다.\\n\\n```html\\n\u003cdiv class=\\\"wrapper lunchtime-template\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary name-slot\\\"\u003eOOO\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n\\n\u003cscript\u003e\\n  const data = {\\n    bran: ['철판 볶음밥을 먹었다', '커피를 주문했다', '쿠키도 구매했다', '양치를 했다'],\\n  };\\n  let lunchTimeDiv = document.querySelector('.lunchtime-template').cloneNode(true);\\n  lunchTimeDiv.classList.remove('lunchtime-template');\\n\\n  let name = Object.keys(data)[0];\\n  let nameSlot = lunchTimeDiv.querySelector('.name-slot');\\n  nameSlot.innerHTML = name;\\n  nameSlot.classList.remove('name-slot');\\n  const histories = data[name];\\n\\n  // 이곳을 변경\\n  let historySlots = lunchTimeDiv.querySelectorAll('.history-slot');\\n\\n  for (let idx = 0; idx \u003c historySlots.length; idx++) {\\n    slot = historySlots[idx];\\n    slot.innerText = histories[idx];\\n    slot.classList.remove('history-slot');\\n  }\\n\u003c/script\u003e\\n```\\n\\n드디어 의도대로 동작했다.\\n\\n```html\\n\u003cdiv class=\\\"wrapper\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary\\\"\u003ebran\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e커피를 주문했다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e쿠키도 구매했다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e양치를 했다\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n```\\n\\n---\\n\\n`getElementsByClassName`은 `HTMLCollection`을 반환하고, `querySelectorAll`은 `NodeList`를 반환한다.\\n\\n```javascript\\nlet historySlots1 = lunchTimeDiv.getElementsByClassName('history-slot');\\nlet historySlots2 = lunchTimeDiv.querySelectorAll('.history-slot');\\nconsole.log(historySlots1.toString()); // '[object HTMLCollection]'\\nconsole.log(historySlots2.toString()); //  '[object NodeList]'\\n```\\n\\n[HTMLCollection과 NodeList](https://dev.to/theoluyi/queryselector-vs-getelementsbyclassname-nodelist-vs-htmlcollection-30gg) 의 차이를 설명하는 좀 더 자세한 글을 첨부한다.\\n\\n간단하게 말하자면, HTMLCollection은 항상 현재 상황을 반영한다. 즉, 클래스 이름을 기준으로 요소들이 담기는데, 내가 클래스 이름을 지우면서 해당 컬렉션에서 제외된 것이다. 포문이 제대로 작동하지 않은 이유는 바로 이 때문이었다.\\n\\n더 나아가 HTMLCollection은 배열이 아닌 유사 배열이기 때문에 forEach 같은 배열 메서드를 사용할 수 없다. 하지만 객체 속성에 접근하듯이 .속성명 형식으로 접근이 가능하다. \u003csup\u003e[ref](https://devsoyoung.github.io/posts/js-htmlcollection-nodelist)\u003c/sup\u003e\\n\\n앞으로는 상황에 맞는 선택을 더 신중히 해야겠다.\\n\"},\"meta\":{\"title\":\"HTMLCollection의 함정\",\"description\":\"클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제\",\"date\":\"2021/09/07\",\"tags\":[\"HTMLCollection\",\"getElementsByClassName\",\"nodeList\",\"querySelectorAll()\"],\"categories\":[\"dev\",\"web\"],\"thumbnail\":\"assets/images/posts/trap-of-htmlcollection.jpeg\"},\"content\":\"\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper lunchtime-template\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary name-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eOOO\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e위와 같은 형태의 HTML 템플릿에 데이터를 넣는 작업이었다. 스크립트를 작성하면서, 먼저 알맞은 태그 요소를 찾아 데이터를 넣고, 템플릿으로 활용했던 클래스 이름들을 제거하려고 했다.\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e data \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token literal-property property\\\"\u003ebran\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'철판 볶음밥을 먹었다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'커피를 주문했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'쿠키도 구매했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'양치를 했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e lunchTimeDiv \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token dom variable\\\"\u003edocument\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelector\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.lunchtime-template'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003ecloneNode\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token boolean\\\"\u003etrue\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003elunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'lunchtime-template'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e name \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token known-class-name class-name\\\"\u003eObject\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003ekeys\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003edata\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e nameSlot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelector\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.name-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003enameSlot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerHTML\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e name\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003enameSlot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'name-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e여기까지는 별 문제 없었지만, 이후에 문제가 발생했다.\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e histories \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e data\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003ename\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e historySlots \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003egetElementsByClassName\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword control-flow\\\"\u003efor\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e\u0026#x3C;\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003elength\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx\u003cspan class=\\\"token operator\\\"\u003e++\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerText\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e histories\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e스크립트로 처리된 결과는 기대와 달랐다.\u003c/p\u003e\\n\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003ebran\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e커피를 주문했다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e코드가 기대한 대로 작동하지 않아 어리둥절했다. 간단한 코드에서 문제가 발생하리라 예상하지 못했지만, 분명히 어디선가 잘못된 부분이 있었다.\\n고민 끝에, 루프 안에서 인덱스를 조절해야 했던 알고리즘 문제를 떠올리고 코드를 수정해 보았다.\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword control-flow\\\"\u003efor\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e\u0026#x3C;\u003c/span\u003e histories\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003elength\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx\u003cspan class=\\\"token operator\\\"\u003e++\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerText\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e histories\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  idx \u003cspan class=\\\"token operator\\\"\u003e-=\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e결과는 나왔지만, 뭔가 이상했다.\u003c/p\u003e\\n\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003ebran\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e포문에서 발생한 문제는 어느 정도 해결됐지만, 데이터를 인덱스와 같이 순환해야 하므로 복잡성만 더 커졌을 뿐, 이 방식은 적절하지 않았다.\\n근본적인 문제를 고민해보니, \u003ccode\u003ehistorySlots\u003c/code\u003e가 루프가 진행됨에 따라 변하고 있었다. 그래서 \u003ccode\u003ehistorySlots\u003c/code\u003e를 잡는 방식을 \u003ccode\u003egetElementsByClassName\u003c/code\u003e에서 \u003ccode\u003equerySelectorAll\u003c/code\u003e로 바꿔보기로 했다.\u003c/p\u003e\\n\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper lunchtime-template\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary name-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eOOO\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e data \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e    \u003cspan class=\\\"token literal-property property\\\"\u003ebran\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'철판 볶음밥을 먹었다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'커피를 주문했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'쿠키도 구매했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'양치를 했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e lunchTimeDiv \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token dom variable\\\"\u003edocument\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelector\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.lunchtime-template'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003ecloneNode\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token boolean\\\"\u003etrue\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'lunchtime-template'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e name \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token known-class-name class-name\\\"\u003eObject\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003ekeys\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003edata\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e nameSlot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelector\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.name-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  nameSlot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerHTML\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e name\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  nameSlot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'name-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e histories \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e data\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003ename\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token comment\\\"\u003e// 이곳을 변경\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e historySlots \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelectorAll\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword control-flow\\\"\u003efor\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e\u0026#x3C;\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003elength\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx\u003cspan class=\\\"token operator\\\"\u003e++\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e    slot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e    slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerText\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e histories\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e    slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e드디어 의도대로 동작했다.\u003c/p\u003e\\n\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003ebran\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e커피를 주문했다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e쿠키도 구매했다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e양치를 했다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003chr\u003e\\n\u003cp\u003e\u003ccode\u003egetElementsByClassName\u003c/code\u003e은 \u003ccode\u003eHTMLCollection\u003c/code\u003e을 반환하고, \u003ccode\u003equerySelectorAll\u003c/code\u003e은 \u003ccode\u003eNodeList\u003c/code\u003e를 반환한다.\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e historySlots1 \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003egetElementsByClassName\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e historySlots2 \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelectorAll\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token console class-name\\\"\u003econsole\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003elog\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003ehistorySlots1\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003etoString\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e \u003cspan class=\\\"token comment\\\"\u003e// '[object HTMLCollection]'\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token console class-name\\\"\u003econsole\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003elog\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003ehistorySlots2\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003etoString\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e \u003cspan class=\\\"token comment\\\"\u003e//  '[object NodeList]'\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e\u003ca href=\\\"https://dev.to/theoluyi/queryselector-vs-getelementsbyclassname-nodelist-vs-htmlcollection-30gg\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferer\\\"\u003eHTMLCollection과 NodeList\u003c/a\u003e 의 차이를 설명하는 좀 더 자세한 글을 첨부한다.\u003c/p\u003e\\n\u003cp\u003e간단하게 말하자면, HTMLCollection은 항상 현재 상황을 반영한다. 즉, 클래스 이름을 기준으로 요소들이 담기는데, 내가 클래스 이름을 지우면서 해당 컬렉션에서 제외된 것이다. 포문이 제대로 작동하지 않은 이유는 바로 이 때문이었다.\u003c/p\u003e\\n\u003cp\u003e더 나아가 HTMLCollection은 배열이 아닌 유사 배열이기 때문에 forEach 같은 배열 메서드를 사용할 수 없다. 하지만 객체 속성에 접근하듯이 .속성명 형식으로 접근이 가능하다. \u003csup\u003e\u003ca href=\\\"https://devsoyoung.github.io/posts/js-htmlcollection-nodelist\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferer\\\"\u003eref\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\\n\u003cp\u003e앞으로는 상황에 맞는 선택을 더 신중히 해야겠다.\u003c/p\u003e\"}]\n"])</script><script>self.__next_f.push([1,"8:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],null,null,null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,null]\n"])</script><script>self.__next_f.push([1,"5:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"HTMLCollection의 함정 - Bran's codeverse\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제\"}],null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,[null,[\"$\",\"meta\",null,{\"property\":\"og:title\",\"content\":\"HTMLCollection의 함정 - Bran's codeverse\"}],[\"$\",\"meta\",null,{\"property\":\"og:description\",\"content\":\"클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제\"}],null,[\"$\",\"meta\",null,{\"property\":\"og:site_name\",\"content\":\"Bran's codeverse\"}],null,null,null,[[[\"$\",\"meta\",null,{\"property\":\"og:image\",\"content\":\"http://localhost:3000/assets/images/posts/trap-of-htmlcollection.jpeg\"}]]],null,null,null,null,null,null,[[\"$\",\"meta\",null,{\"property\":\"og:type\",\"content\":\"article\"}],null,null,null,null,null,null]],[[\"$\",\"meta\",null,{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:site\",\"content\":\"@codeverse\"}],null,null,null,[\"$\",\"meta\",null,{\"name\":\"twitter:title\",\"content\":\"HTMLCollection의 함정 - Bran's codeverse\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:description\",\"content\":\"클래스를 기준으로 스크립트를 작성하다가 맞닥트린 예상치 못한 문제\"}],[[[\"$\",\"meta\",null,{\"name\":\"twitter:image\",\"content\":\"http://localhost:3000/assets/images/posts/trap-of-htmlcollection.jpeg\"}]]],null,null],null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/icon.svg?43070ac23468c58b\",\"type\":\"image/svg+xml\",\"sizes\":\"32x32\"}]],[],null]]\n"])</script></body></html>