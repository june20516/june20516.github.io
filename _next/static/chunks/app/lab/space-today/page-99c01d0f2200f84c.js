(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[291],{2931:function(e,t,a){Promise.resolve().then(a.bind(a,3691))},3691:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var n=a(9268),r=a(6006),i=a(6394),o=a.n(i);let s=e=>"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")),c=e=>e.reduce((e,t)=>t instanceof Array?e.concat(c(t)):e.concat(t),[]);var l=a(2561);let d=(0,l.Ue)()(e=>({APOD:{copyright:"",date:s(new Date),explanation:'image of "Astronomic Picture Of the Day"',media_type:"image",title:"loading..",url:"assets/images/placeholder-768x576.png",service_version:""},fetchedDate:new Date,fetched:!1,setAPOD:t=>e(()=>({APOD:t,fetchedDate:new Date,fetched:!0}))}));var h=a(6531),p=e=>{let{size:t,depth:a,children:i}=e,[o,s]=(0,r.useState)(0),c=()=>Math.floor(10*Math.random());return(0,r.useEffect)(()=>{s(c());let e=!1,t=setInterval(()=>{s(o+c()),e=!e},3e3);return()=>clearInterval(t)},[]),(0,n.jsx)(h.Z,{sx:{width:t,animation:"spin 20s linear infinite","@keyframes spin":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}},children:(0,n.jsx)(h.Z,{sx:{transition:"transform 10s",...(e=>{let t=()=>e*c()%10;return{transform:"translate(".concat(t()>4.5?"":"-").concat(t(),"px, ").concat(t()>4.5?"":"-").concat(t(),"px)")}})(o)},children:(0,n.jsx)(h.Z,{sx:{backgroundColor:["#6366f1","#a855f7","#ec4899"][a],aspectRatio:"1 / 1",transition:"border-radius 5s",display:"flex",justifyContent:"center",alignItems:"center",...(e=>{let t=()=>Math.max(e*c(),50);return{borderTopLeftRadius:"".concat(t(),"%"),borderTopRightRadius:"".concat(t(),"%"),borderBottomLeftRadius:"".concat(t(),"%"),borderBottomRightRadius:"".concat(t(),"%")}})(o)},children:i})})})},u=()=>(0,n.jsx)(p,{size:120,depth:0,children:(0,n.jsx)(p,{size:84,depth:1,children:(0,n.jsx)(p,{size:36,depth:2})})}),f=a(4240),g=a(9881),x=a(9732),m=()=>{let e=(0,r.useMemo)(()=>new Date,[]),t=(0,r.useMemo)(()=>({copyright:"",date:s(e),explanation:'image of "Astronomic Picture Of the Day"',media_type:"image",title:"loading..",url:"assets/images/placeholder-768x576.png",service_version:""}),[e]),{APOD:a,setAPOD:i,fetchedDate:c,fetched:l}=d(),[p,m]=(0,r.useState)(!1),y=(0,r.useCallback)(e=>{let t=new URL("https://api.nasa.gov/planetary/apod"),a=t.searchParams;return a.append("date",s(e)),a.append("api_key","dBC0DbFqNX7bRDz8NZiz7DAhMpgNhLlddt1kS0qj"),a.append("thumbs","true"),t},[]),b=(0,r.useCallback)(async e=>fetch(y(e)).then(async e=>{let a=await e.json();if(!a.code)return a;if(!(a.code>=400)||!(a.code<500))return t;throw a}).catch(e=>{throw e}),[t,y]),j=(0,r.useCallback)(async e=>{b(e).then(e=>i(e)).catch(t=>{[404,400].includes(t.code)&&j(new Date(e.setDate(e.getDate()-1)))})},[b]);return(0,r.useEffect)(()=>{l&&c.getDate()===e.getDate()||j(e)},[]),(0,n.jsxs)(h.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflowY:"hidden",gap:2},children:[(0,n.jsx)(f.Z,{variant:"h1",color:"primary",fontWeight:"bold",children:(0,n.jsx)(g.Z,{href:"https://apod.nasa.gov/apod/astropix.html",target:"_blank",underline:"none",sx:{color:"inherit"},children:"오늘의 우주"})}),!l&&(0,n.jsx)(u,{}),l&&"video"===a.media_type&&(0,n.jsxs)(g.Z,{href:a.url,target:"_blank",sx:{position:"relative"},children:[(0,n.jsx)(o(),{src:"assets/icons/play.svg",width:100,height:100,alt:"go to play",style:{position:"absolute",top:"50%",left:"50%",marginTop:"-50px",marginLeft:"-50px",borderRadius:"3rem",backgroundColor:"rgba(0, 0, 255, 0.3)",opacity:.5}}),(0,n.jsx)(o(),{width:768,height:0,src:a.thumbnail_url,alt:a.title,loading:"lazy",style:{width:"768px",height:"auto"}})]}),l&&"video"!==a.media_type&&(0,n.jsx)(g.Z,{href:a.hdurl,target:"_blank",children:(0,n.jsx)(o(),{width:768,height:0,src:a.url,alt:a.title,loading:"lazy",style:{width:"768px",height:"auto"}})}),(0,n.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(x.Z,{onClick:()=>m(!p),children:(0,n.jsx)(f.Z,{variant:"h2",color:"secondary",children:a.title})}),(0,n.jsx)(f.Z,{variant:"body2",sx:{marginTop:2,display:p?"block":"none"},children:a.explanation})]})]})}}},function(e){e.O(0,[771,60,667,488,744],function(){return e(e.s=2931)}),_N_E=e.O()}]);